(()=>{"use strict";var t={344:(t,e,n)=>{n.r(e)},237:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(285);e.default=class{static async startEngine(t){const e=await fetch(`${a.engine}?id=${t}&status=started`,{method:"PATCH"});if(400===e.status)throw new Error('Wrong parameters: "id" should be any positive number, "status" should be "started", "stopped" or "drive".');if(404===e.status)throw new Error("Car with such id was not found in the garage.");return e.json()}static async stopEngine(t){return(await fetch(`${a.engine}?id=${t}&status=stopped`,{method:"PATCH"})).json()}static async drive(t){const e=await fetch(`${a.engine}?id=${t}&status=drive`,{method:"PATCH"}).catch();if(500===e.status)throw new Error("Car has been stopped suddenly. It's engine was broken down.");if(429===e.status)throw new Error("Drive already in progress. You can't run drive for the same car twice while it's not stopped.");if(404===e.status)throw new Error('Engine parameters for car with such id was not found in the garage. Have you tried to set engine status to "started" before?');if(400===e.status)throw new Error('Wrong parameters: "id" should be any positive number, "status" should be "started", "stopped" or "drive".');return 200!==e.status?{success:!1}:Object.assign({},await e.json())}}},650:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(285);class s{static async getCars(t,e=7){const n=[`_page=${t}`,`_limit=${e}`],s=await fetch(`${a.garage}?${n.join("&")}`);return{items:await s.json(),count:s.headers.get("X-Total-Count")}}static async getCar(t){return(await fetch(`${a.garage}/${t}`)).json()}async createCar(t){(await fetch(a.garage,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}async deleteCar(t){(await fetch(`${a.garage}/${t}`,{method:"DELETE"})).json()}async updateCar(t,e){return(await fetch(`${a.garage}/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}}e.default=s,s.instence=new s},417:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(285),i=a(n(650));e.default=class{getSortOrder({sort:t,order:e}){return t&&e?`&_sort=${t}&_order=${e}`:""}async getWinners({page:t,limit:e=10,sort:n,order:a}){const r=await fetch(`${s.winners}?_page=${t}&_limit=${e}${this.getSortOrder({sort:n,order:a})}`),o=await r.json();return{items:await Promise.all(o.map((async t=>Object.assign(Object.assign({},t),{car:await i.default.getCar(t.id)})))),count:r.headers.get("X-Total-Count")}}async getWinner(t){return(await fetch(`${s.winners}/${t}`)).json()}async getWinnerStatus(t){return(await fetch(`${s.winners}/${t}`)).status}async deleteCar(t){(await fetch(`${s.winners}/${t}`,{method:"DELETE"})).json()}async createWinner(t){const e=await fetch(s.winners,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(500===e.status)throw new Error("Error: Insert failed, duplicate id");return e.json()}async updateWinner(t,e){(await fetch(`${s.winners}/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}async saveWinner({id:t,time:e}){if(404===await this.getWinnerStatus(t))await this.createWinner({id:t,wins:1,time:e});else{const n=await this.getWinner(t);await this.updateWinner(t,{id:t,wins:n.wins+1,time:e<n.time?e:n.time})}}}},198:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0;class n{constructor(t,e="div",n="",a=""){const s=document.createElement(e);s.className=n,s.textContent=a,t&&t.append(s),this.node=s}destroy(){this.node.remove()}}e.Control=n,e.default=n},285:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.winners=e.engine=e.garage=e.baseUrl=void 0;const n="https://race-async.herokuapp.com";e.baseUrl=n;const a=`${n}/garage`;e.garage=a;const s=`${n}/engine`;e.engine=s;const i=`${n}/winners`;e.winners=i},672:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LETTERS=e.NAMES_CAR=e.MODELS_CAR=e.cell=void 0,e.cell={number:"number",car:"car",name:"name",wins:"wins",time:"time"},e.MODELS_CAR=["Tesla","Mercedes","Mazda","Land Rover","Audi","Bentley","Dacia","Honda"],e.NAMES_CAR=[" Model S"," Benz"," Miata"," Range Rover"," A6"," Continental"," Logan"," Civic"],e.LETTERS="0123456789ABCDEF"},523:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),a(n(650)).default.getCars(1),e.default={carsPage:1,data:{},winnersPage:1,sortBy:"",sortOrder:""}},335:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(167)),r=a(n(266));class o extends s.default{constructor(t,e,n){super(t,"div","car-container",""),this.data=e,this.car=n,this.settingsButton=new r.default(this.node,n),this.carControl=new i.default(this.node,n)}}e.default=o},167:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(626));class r extends s.default{constructor(t,e){super(t,"div","car-control-container",""),this.carData=e,this.startButton=new s.default(this.node,"button","control active","START"),this.stopButton=new s.default(this.node,"button","control","STOP"),this.stopButton.node.disabled=!0,this.car=new i.default(this.node,e),this.setEventListener()}setEventListener(){this.startButton.node.onclick=async()=>{this.startButton.node.disabled=!0,this.stopButton.node.disabled=!1,this.startButton.node.classList.toggle("active"),this.stopButton.node.classList.toggle("active"),await this.car.car.startDriving(this.carData.id)},this.stopButton.node.onclick=async()=>{this.stopButton.node.disabled=!0,this.stopButton.node.classList.toggle("active"),this.startButton.node.disabled=!1,this.startButton.node.classList.toggle("active"),await this.car.car.stopDriving(this.carData.id),this.stopButton.node.classList.remove("active"),this.stopButton.node.disabled=!0}}}e.default=r},626:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(201));class r extends s.default{constructor(t,e){super(t,"div","race"),this.carData=e,this.car=new i.default(this.node,"div","car",""),this.car.node.style.backgroundColor=`${e.color}`,this.flag=new s.default(this.node,"div","flag")}}e.default=r},266:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t,e){super(t,"div","setting-buttons",""),this.car=e,this.selectButton=new s.default(this.node,"button","button settings-button","Select"),this.removeButton=new s.default(this.node,"button","button settings-button","Remove"),this.carName=new s.default(this.node,"span","car-name",`${e.name}`)}}e.default=i},0:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t){super(t,"div","footer",""),this.renderInnerHTML()}renderInnerHTML(){this.node.innerHTML='<a class="github" href="https://github.com/OlgaSavitsk">OlgaSavitsk</a>\n    <a class="school" href="https://rs.school/js/">\n      <span class="school-year">\'2022</span>\n    </a>'}}e.default=i},109:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t){super(t,"div","form-create",""),this.inputCreateName=new s.default(this.node,"input","",""),this.inputCreateName.node.setAttribute("type","text"),this.inputColor=new s.default(this.node,"input","color-input",""),this.inputColor.node.setAttribute("type","color"),this.inputColor.node.setAttribute("value","#ffffff"),this.buttonCreate=new s.default(this.node,"button","button create-button","CREATE"),this.setEventListener()}setEventListener(){this.buttonCreate.node.onclick=()=>{this.onCreateCar&&this.onCreateCar(this.inputCreateName.node.value,this.inputColor.node.value)}}}e.default=i},760:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t){super(t,"div","form-create",""),this.inputUpdateName=new s.default(this.node,"input","",""),this.inputUpdateName.node.setAttribute("type","text"),this.inputColor=new s.default(this.node,"input","color-input",""),this.inputColor.node.setAttribute("type","color"),this.inputColor.node.setAttribute("value","#ffffff"),this.buttonUpdate=new s.default(this.node,"button","button create-button","UPDATE"),this.setEventListener()}setEventListener(){this.buttonUpdate.node.onclick=()=>{this.onUpdateCar&&this.onUpdateCar(this.inputUpdateName.node.value,this.inputColor.node.value)}}}e.default=i},91:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(660)),r=a(n(335)),o=a(n(215)),d=a(n(523));class u extends s.default{constructor(t,e,n,a){super(t,"div","garage-container",""),this.data=e,this.apiWinner=n,this.isRace=a,this.timeArr=[],this.race=new i.default(this.data),this.node.innerHTML=`<h2 class="title">Garage (${e.count})</h1>\n    <h3 class="subtitle">Page #${d.default.carsPage}</h2>`,this.renderCars()}renderCars(){Object.values(this.data.items).map((async t=>{this.carContainer=new r.default(this.node,this.data,t),this.setEventListener(t),this.driveAllCarsAndGetWinner(t),this.toStartCarsPosition(t)}))}setEventListener(t){this.carContainer.settingsButton.removeButton.node.onclick=()=>{this.onRemoveCar(t.id)},this.carContainer.settingsButton.selectButton.node.onclick=()=>{this.onSelectCar(t)}}async driveAllCarsAndGetWinner(t){if(!0===this.isRace){const e=this.carContainer.carControl.car.car.startDriving(t.id),n=await this.race.race(e);this.timeArr.push(n.time),1===this.timeArr.length&&(this.modal=new o.default(this.node,`${n.name} went first ${n.time} s`),this.modal.onClick=()=>this.modal.destroy(),await this.apiWinner.saveWinner({id:n.id,time:n.time}))}}async toStartCarsPosition(t){!1===this.isRace&&await this.carContainer.carControl.car.car.stopDriving(t.id)}}e.default=u},847:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(109)),r=a(n(760)),o=a(n(300));class d extends s.default{constructor(t){super(t,"div","controls-container",""),this.formCreate=new i.default(this.node),this.formUpdate=new r.default(this.node),this.panelButtons=new o.default(this.node)}}e.default=d},420:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(91)),r=a(n(847)),o=a(n(79));class d extends s.default{constructor(t,e,n){super(t,"div","main-container",""),this.data=e,this.apiWinner=n,this.controls=new r.default(this.node),this.garageContainer=new i.default(this.node,e,n,this.isRace),this.paginationButtons=new o.default(this.node),this.onRace(),this.onReset()}onRace(){this.controls.panelButtons.onRace=async()=>{this.isRace=!0,this.controls.panelButtons.resetButton.node.disabled=!1,this.controls.panelButtons.raceButton.node.disabled=!0,this.rerenderCar()}}onReset(){this.controls.panelButtons.onReset=()=>{this.isRace=!1,this.controls.panelButtons.raceButton.node.disabled=!1,this.controls.panelButtons.resetButton.node.disabled=!0,this.rerenderCar()}}rerenderCar(){this.garageContainer.destroy(),this.paginationButtons.destroy(),this.garageContainer=new i.default(this.node,this.data,this.apiWinner,this.isRace),this.paginationButtons=new o.default(this.node)}}e.default=d},215:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t,e){super(t,"div","",""),this.modalContainer=new s.default(this.node,"div","modal-congratulation",""),this.modalContainer.node.innerHTML=`<span class="congratulation-title">${e}</span>`,this.buttonNext=new s.default(this.modalContainer.node,"button","settings","OK"),this.setEventListener()}setEventListener(){this.buttonNext.node.onclick=()=>{this.onClick()}}}e.default=i},79:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t){super(t,"div","pagination-container",""),this.prevButton=new s.default(this.node,"button","button menu-button","PREV"),this.nextButton=new s.default(this.node,"button","button menu-button","NEXT"),this.setEventListener()}setEventListener(){this.nextButton.node.onclick=()=>{this.onNextPage()},this.prevButton.node.onclick=()=>{this.onPrevPage()}}}e.default=i},300:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t){super(t,"div","panel-container",""),this.raceButton=new s.default(this.node,"button","button","RACE"),this.resetButton=new s.default(this.node,"button","button","RESET"),this.resetButton.node.disabled=!0,this.ganerateButton=new s.default(this.node,"button","button button-ganerate","GENERATE CARS"),this.setEventListener()}setEventListener(){this.ganerateButton.node.onclick=()=>{this.onGenerateRandomCars()},this.raceButton.node.onclick=()=>{this.onRace()},this.resetButton.node.onclick=()=>{this.onReset()}}}e.default=i},17:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198));class i extends s.default{constructor(t){super(t,"div","router-container",""),this.buttonToGarage=new s.default(this.node,"button","button menu-button",""),this.buttonToWinner=new s.default(this.node,"button","button menu-button",""),this.buttonToGarage.node.innerHTML='<a href="#garage">TO GARAGE</a>',this.buttonToWinner.node.innerHTML='<a href="#winner">TO WINNER</a>'}}e.default=i},202:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(617));class r extends s.default{constructor(t,e,n){super(t,"div","main-container",""),this.data=e,this.winnerPage=n,this.winnersTitle=new s.default(this.node,"h2","title",`WINNERS (${e.count})`),this.winnersSubtitle=new s.default(this.node,"h3","subtitle",`PAGE #${n}`),this.winnerTable=new i.default(this.node,e)}}e.default=r},617:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=n(672);class r extends s.default{constructor(t,e){super(t,"table","table",""),this.data=e,this.thead=new s.default(this.node,"thead","",""),this.tbody=new s.default(this.node,"tbody","",""),this.renderCell(),this.renderRow()}renderCell(){Object.values(i.cell).map((t=>(this.cell=new s.default(this.thead.node,"th","",`${t}`),this.cell.node.setAttribute("data-table",`${t}`),this.cell.node.onclick=()=>{this.onSort(t)},!1)))}renderRow(){Object.values(this.data.items).map((t=>(this.row=new s.default(this.tbody.node,"tr","",""),this.row.node.innerHTML=`\n          <td>${t.id}</td>\n          <td><div class="car-table" style="background-color: ${t.car.color}"></div></td>\n          <td>${t.car.name}</td>\n          <td>${t.wins}</td>\n          <td>${t.time}</td>`,!1)))}}e.default=r},607:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(0));n(344);const i=a(n(346)),r=a(n(965));let o;new i.default(document.body),new s.default(document.body),window.onpopstate=()=>{o=Number(window.location.hash.split("/")[1]);const t=window.location.hash.slice(1),e={GaragePage:{name:"garage",component:()=>new i.default(document.body)},WinnerPage:{name:"winner",component:()=>new r.default(document.body)}},n=Object.values(e).find((e=>e.name===t));if(!n)throw Error("CurrentRoute root element not found");for(;document.body.firstElementChild;)document.body.removeChild(document.body.firstElementChild);n.component(),new s.default(document.body)},console.log("\n182/190\n( -8 ) Состояние просмотра должно сохраняться,\nкогда пользователь переключается с одного представления на другое. \nНе меняется только номер страницы.")},346:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(198)),i=a(n(948)),r=a(n(420)),o=a(n(17)),d=a(n(650)),u=a(n(417)),l=a(n(523));class c extends s.default{constructor(t){super(t,"div","page-container main-page",""),this.apiWinner=new u.default,this.generateRandomService=new i.default,new o.default(this.node),this.carsRender()}async carsRender(){const t=await d.default.getCars(l.default.carsPage);this.mainGarageContainer=new r.default(this.node,t,this.apiWinner),this.createCar(),this.removeCar(),this.updateCar(),this.paginationHandler(),this.generateRandomCar()}createCar(){this.mainGarageContainer.controls.formCreate.onCreateCar=async(t,e)=>{d.default.instence.createCar({name:t,color:e}),this.rerenderCar()}}removeCar(){this.mainGarageContainer.garageContainer.onRemoveCar=async t=>{d.default.instence.deleteCar(t),this.rerenderCar()}}updateCar(){this.mainGarageContainer.garageContainer.onSelectCar=t=>{this.mainGarageContainer.controls.formUpdate.inputUpdateName.node.value=t.name,this.mainGarageContainer.controls.formUpdate.inputColor.node.value=t.color,this.mainGarageContainer.controls.formUpdate.onUpdateCar=async(e,n)=>{d.default.instence.updateCar(t.id,{name:e,color:n}),this.rerenderCar()}}}paginationHandler(){this.mainGarageContainer.paginationButtons.onNextPage=async()=>{l.default.carsPage+=1,this.rerenderCar()},this.mainGarageContainer.paginationButtons.onPrevPage=()=>{1===l.default.carsPage?this.mainGarageContainer.paginationButtons.prevButton.node.disabled=!0:(l.default.carsPage-=1,this.rerenderCar())}}generateRandomCar(){this.mainGarageContainer.controls.panelButtons.onGenerateRandomCars=async()=>{const t=this.generateRandomService.generateRandomCar();await Promise.all(t.map((async t=>d.default.instence.createCar(t)))),this.rerenderCar()}}rerenderCar(){this.mainGarageContainer.destroy(),this.carsRender()}}e.default=c},965:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(417)),i=a(n(198)),r=a(n(523)),o=a(n(79)),d=a(n(17)),u=a(n(202));class l extends i.default{constructor(t){super(t,"div","page-container main-page",""),new d.default(this.node),this.winnersApi=new s.default,this.winnersRender()}async winnersRender(){const t=await this.winnersApi.getWinners({page:r.default.winnersPage,sort:r.default.sortBy,order:r.default.sortOrder});this.mainWinnerContainer=new u.default(this.node,t,r.default.winnersPage),this.paginationButtons=new o.default(this.node),this.paginarion(),this.sort()}paginarion(){this.paginationButtons.onNextPage=()=>{r.default.winnersPage+=1,this.rerenderWinnerContainer()},this.paginationButtons.onPrevPage=()=>{console.log("next"),r.default.winnersPage-=1,this.rerenderWinnerContainer()}}sort(){this.mainWinnerContainer.winnerTable.onSort=t=>{"wins"!==t&&"time"!==t||(r.default.sortBy=t,"ASC"===r.default.sortOrder?r.default.sortOrder="DESC":r.default.sortOrder="ASC",this.rerenderWinnerContainer())}}rerenderWinnerContainer(){this.mainWinnerContainer.destroy(),this.paginationButtons.destroy(),this.winnersRender()}}e.default=l},201:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(n(237)),i=a(n(198));class r extends i.default{constructor(t,e="div",n="",a=""){super(t,e,n,a),this.map=new Map}getCenterPosition(t){const{top:e,left:n,width:a,height:s}=t.getBoundingClientRect();return{x:n+a/2,y:e+s/2}}getDistanceBetweenElements(){const t=this.getCenterPosition(this.node),e=this.getCenterPosition(this.node.nextElementSibling);return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}animation(t,e,n){let a=0;const s=i=>{a||(a=i);const r=i-a,o=Math.round(r*(t/e));this.node.style.transform=`translateX(${Math.min(o,t)}px)`,o<t&&this.map.set(n,window.requestAnimationFrame(s))};return this.map.set(n,window.requestAnimationFrame(s)),this.map}async startDriving(t){const{velocity:e,distance:n}=await this.startEngine(t),a=Math.round(n/e),s=Math.floor(this.getDistanceBetweenElements());this.animation(s,a,t);const{success:i}=await this.driveMode(t);return{success:i,id:t,time:a}}async startEngine(t){try{return await s.default.startEngine(t)}catch(t){console.error(t)}}async driveMode(t){try{return await s.default.drive(t)}catch(e){if(console.error(e),e)return window.cancelAnimationFrame(Object.fromEntries(this.map)[t]),{success:!1}}}async stopDriving(t){await s.default.stopEngine(t),this.node.style.transform="translateX(0)",window.cancelAnimationFrame(Object.fromEntries(this.map)[t])}}e.default=r},948:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(672);e.default=class{generateCarName(){return`${a.MODELS_CAR[Math.floor(Math.random()*a.MODELS_CAR.length)]}${a.NAMES_CAR[Math.floor(Math.random()*a.MODELS_CAR.length)]}`}generateCarColor(){let t="#";for(let e=0;e<6;e+=1)t+=a.LETTERS[Math.floor(16*Math.random())];return t}generateRandomCar(t=100){return new Array(t).fill(1).map((t=>({name:this.generateCarName(),color:this.generateCarColor(),id:""})))}}},660:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.carsData=t,this.promises=new Set}async raceAll(t,e){const{success:n,id:a,time:s}=await Promise.race(t);if(!n){const n=e.findIndex((t=>t===a)),s=[...t.slice(0,n),...t.slice(n+1,t.length)],i=[...e.slice(0,n),...e.slice(n+1,t.length)];return this.raceAll(s,i)}const i=this.carsData.items.find((t=>a===t.id));return Object.assign(Object.assign({},i),{time:+(s/1e3).toFixed(2)})}async race(t){return await this.raceAll([...this.promises.add(t)],this.carsData.items.map((t=>t.id)))}}}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})();